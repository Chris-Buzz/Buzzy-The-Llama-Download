<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buzzy The Llama Download</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="container">
    <div class="header">
      <img src="assets/llama.webp" class="app-icon">
      <h1>Buzzy The Llama Download</h1>
    </div>
    
    <p class="intro">Welcome to the download page for Buzzy The Llama! To get started, follow the steps below:</p>
    
    <div class="ollama-instructions">
      <h2>Step 1: Install Ollama</h2>
      <p>Before you can use Buzzy The Llama, you need to install <strong>Ollama</strong> on your computer.</p>
    
      <p>To download Ollama:</p>
      <a href="https://ollama.com/" target="_blank" class="download-btn">Go to Ollama Official Website</a>
    </div>

    <!-- Initially hidden -->
    <div class="run-ollama" id="run-ollama" style="display: none;">
      <h2>Step 1.5: Run Ollama</h2>
      <p>Now that youâ€™ve installed Ollama, you need to run the following command before using Buzzy The Llama.</p>
      <pre><code>ollama run llama3.2</code></pre>
      <p>Click the button below to automatically open your terminal and run the command.</p>
      <button class="terminal-btn" onclick="runOllama()">Run Ollama</button>
    </div>
    
    <!-- Initially hidden -->
    <div class="app-download" id="buzzy-instructions" style="display: none;">
      <h2>Step 2: Download Buzzy The Llama</h2>
      <p>Once Ollama is installed and running, you are ready to download and use Buzzy The Llama!</p>
      <a href="https://drive.google.com/file/d/1K8VFwfiBpmKFf7u1xcfvZNPcGDlgicLQ/view?usp=sharing" class="download-btn" onclick="showRunOllama()">Buzzy The Llama for Windows</a>
      <a href="https://drive.google.com/file/d/1dr_JXhkhRcgeTzcdNubQv_6Hbxa0tfJx/view?usp=sharing" class="download-btn" onclick="showRunOllama()">Buzzy The Llama for Mac</a>
      <p>Warning signs may pop up. Please ignore them. Buzzy The Llama is secure and safe for all devices.</p>
      <p class="note">After downloading, you may need to check that Ollama and the llama executable are running in your task manager.</p>
    </div>

  </div>

  <script>
    function showRunOllama() {
      document.getElementById('run-ollama').style.display = 'block';
    }

    function runOllama() {
      const isMac = navigator.platform.toUpperCase().includes('MAC');
      const isWindows = navigator.platform.toUpperCase().includes('WIN');
      const isLinux = navigator.platform.toUpperCase().includes('LINUX');

      if (isMac) {
        // Mac: Open Terminal and run Ollama
        fetch("data:text/plain;charset=utf-8," + encodeURIComponent("osascript -e 'tell application \"Terminal\" to do script \"ollama run llama3.2\"'"))
          .then(response => response.blob())
          .then(blob => {
            const link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = "run_ollama.command";
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            alert("Downloaded a script. Open it to run Ollama.");
          });
      } else if (isWindows) {
        // Windows: Create and run a batch script
        const batContent = "start cmd /k ollama run llama3.2";
        const blob = new Blob([batContent], { type: "text/plain;charset=utf-8" });
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = "run_ollama.bat";
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        alert("Downloaded a batch script. Open it to start Ollama.");
      } else if (isLinux) {
        // Linux: Just show an alert with the command
        alert("Open a terminal and run: ollama run llama3.2");
      } else {
        alert("Your OS is not supported. Please open a terminal manually and run: ollama run llama3.2");
      }

      // Show Buzzy The Llama instructions after running Ollama
      document.getElementById('buzzy-instructions').style.display = 'block';
    }
  </script>
</body>
</html>
